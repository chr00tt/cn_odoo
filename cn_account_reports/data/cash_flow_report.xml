<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="cash_flow_report" model="account.report">
        <field name="name">现金流量表</field>
        <field name="root_report_id" ref="account_reports.cash_flow_report"/>
        <field name="country_id" ref="base.cn"/>
        <field name="filter_multi_company">selector</field>
        <field name="column_ids">
            <record id="cash_flow_report_balance" model="account.report.column">
                <field name="name">余额</field>
                <field name="expression_label">balance</field>
            </record>
        </field>
        <field name="line_ids">
            <record id="report_cashflow_operating" model="account.report.line">
                <field name="name">一、经营活动产生的现金流量：</field>
                <field name="code">OPER</field>
                <field name="expression_ids">
                    <record id="report_cashflow_operating_balance" model="account.report.expression">
                        <field name="label">balance</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">OPER_SALE.balance + OPER_TAXR.balance</field>
                        <field name="date_scope">normal</field>
                    </record>
                </field>
                <field name="children_ids">
                    <record id="report_cashflow_oper_sale" model="account.report.line">
                        <field name="name">销售商品、提供劳务收到的现金</field>
                        <field name="code">OPER_SALE</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_product'))])</field>
                    </record>
                    <record id="report_cashflow_oper_taxrefund" model="account.report.line">
                        <field name="name">收到的税费返还</field>
                        <field name="code">OPER_TAXR</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_taxrefund'))])</field>
                    </record>
                    <record id="report_cashflow_oper_taxrefund" model="account.report.line">
                        <field name="name">收到其他与经营活动有关的现金</field>
                        <field name="code">OPER_OTHER</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_taxrefund'))])</field>
                    </record>
                </field>
            </record>
        </field>
    </record>
</odoo>
