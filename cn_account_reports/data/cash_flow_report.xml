<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="cash_flow_report" model="account.report">
        <field name="name">现金流量表</field>
        <field name="root_report_id" ref="account_reports.cash_flow_report"/>
        <field name="country_id" ref="base.cn"/>
        <field name="filter_multi_company">selector</field>
        <field name="column_ids">
            <record id="cash_flow_report_balance" model="account.report.column">
                <field name="name">余额</field>
                <field name="expression_label">balance</field>
            </record>
        </field>
        <field name="line_ids">
            <record id="report_cashflow_operating" model="account.report.line">
                <field name="name">一、经营活动产生的现金流量：</field>
                <field name="code">OPER</field>
                <field name="expression_ids">
                    <record id="report_cashflow_operating_balance" model="account.report.expression">
                        <field name="label">balance</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">OPER_NET.balance</field>
                        <field name="date_scope">normal</field>
                    </record>
                </field>
                <field name="children_ids">
                    <record id="report_cashflow_oper_sale" model="account.report.line">
                        <field name="name">销售商品、提供劳务收到的现金</field>
                        <field name="code">OPER_SALE</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_product'))])</field>
                    </record>
                    <record id="report_cashflow_oper_taxrefund" model="account.report.line">
                        <field name="name">收到的税费返还</field>
                        <field name="code">OPER_TAXR</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_taxrefund'))])</field>
                    </record>
                    <record id="report_cashflow_oper_other" model="account.report.line">
                        <field name="name">收到其他与经营活动有关的现金</field>
                        <field name="code">OPER_OTIN</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_other'))])</field>
                    </record>
                    <record id="report_cashflow_oper_in" model="account.report.line">
                        <field name="name">　经营活动现金流入小计</field>
                        <field name="code">OPER_IN</field>
                        <field name="expression_ids">
                            <record id="report_cashflow_oper_in_balance" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">aggregation</field>
                                <field name="formula">OPER_SALE.balance + OPER_TAXR.balance + OPER_OTIN.balance</field>
                                <field name="date_scope">normal</field>
                            </record>
                        </field>
                    </record>
                    <record id="report_cashflow_oper_purchase" model="account.report.line">
                        <field name="name">购买商品、接受劳务支付的现金</field>
                        <field name="code">OPER_PURC</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('debit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_product'))])</field>
                    </record>
                    <record id="report_cashflow_oper_employee" model="account.report.line">
                        <field name="name">支付给职工以及为职工支付的现金</field>
                        <field name="code">OPER_EMPL</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('debit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_employee'))])</field>
                    </record>
                    <record id="report_cashflow_oper_tax" model="account.report.line">
                        <field name="name">支付的各项税费</field>
                        <field name="code">OPER_TAX</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('debit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_taxrefund'))])</field>
                    </record>
                    <record id="report_cashflow_oper_other_out" model="account.report.line">
                        <field name="name">支付其他与经营活动有关的现金</field>
                        <field name="code">OPER_OTOU</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('debit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_operating_other'))])</field>
                    </record>
                    <record id="report_cashflow_oper_out" model="account.report.line">
                        <field name="name">　经营活动现金流出小计</field>
                        <field name="code">OPER_OUT</field>
                        <field name="expression_ids">
                            <record id="report_cashflow_oper_out_balance" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">aggregation</field>
                                <field name="formula">OPER_PURC.balance + OPER_EMPL.balance + OPER_TAX.balance + OPER_OTOU.balance</field>
                                <field name="date_scope">normal</field>
                            </record>
                        </field>
                    </record>
                    <record id="report_cashflow_oper_net" model="account.report.line">
                        <field name="name">　　经营活动产生的现金流量净额</field>
                        <field name="code">OPER_NET</field>
                        <field name="expression_ids">
                            <record id="report_cashflow_oper_net_balance" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">aggregation</field>
                                <field name="formula">OPER_IN.balance - OPER_OUT.balance</field>
                                <field name="date_scope">normal</field>
                            </record>
                        </field>
                    </record>
                </field>
            </record>
            <record id="report_cashflow_investing" model="account.report.line">
                <field name="name">二、投资活动产生的现金流量：</field>
                <field name="code">INVE</field>
                <field name="expression_ids">
                    <record id="report_cashflow_investing_balance" model="account.report.expression">
                        <field name="label">balance</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">INVE_NET.balance</field>
                        <field name="date_scope">normal</field>
                    </record>
                </field>
                <field name="children_ids">
                    <record id="report_cashflow_inve_inin" model="account.report.line">
                        <field name="name">收回投资收到的现金</field>
                        <field name="code">INVE_ININ</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_invest'))])</field>
                    </record>
                    <record id="report_cashflow_inve_income" model="account.report.line">
                        <field name="name">取得投资收益收到的现金</field>
                        <field name="code">INVE_INCO</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_income'))])</field>
                    </record>
                    <record id="report_cashflow_inve_asset" model="account.report.line">
                        <field name="name">处置固定资产、无形资产和其他长期资产收回的现金净额</field>
                        <field name="code">INVE_ASSE</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_asset'))])</field>
                    </record>
                    <record id="report_cashflow_inve_subsidiary" model="account.report.line">
                        <field name="name">处置子公司及其他营业单位收到的现金净额</field>
                        <field name="code">INVE_SUBS</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_subsidiary'))])</field>
                    </record>
                    <record id="report_cashflow_inve_otherin" model="account.report.line">
                        <field name="name">收到其他与投资活动有关的现金</field>
                        <field name="code">INVE_OTIN</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_other'))])</field>
                    </record>
                    <record id="report_cashflow_inve_in" model="account.report.line">
                        <field name="name">　投资活动现金流入小计</field>
                        <field name="code">INVE_IN</field>
                        <field name="expression_ids">
                            <record id="report_cashflow_inve_in_balance" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">aggregation</field>
                                <field name="formula">INVE_ININ.balance + INVE_INCO.balance + INVE_ASSE.balance + INVE_SUBS.balance + INVE_OTIN.balance</field>
                                <field name="date_scope">normal</field>
                            </record>
                        </field>
                    </record>
                    <record id="report_cashflow_inve_asset_out" model="account.report.line">
                        <field name="name">购建固定资产、无形资产和其他长期资产支付的现金</field>
                        <field name="code">INVE_ASOU</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('debit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_asset'))])</field>
                    </record>
                    <record id="report_cashflow_inve_inout" model="account.report.line">
                        <field name="name">投资支付的现金</field>
                        <field name="code">INVE_INOU</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('debit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_invest'))])</field>
                    </record>
                    <record id="report_cashflow_inve_subsidiary_out" model="account.report.line">
                        <field name="name">取得子公司及其他营业单位支付的现金净额</field>
                        <field name="code">INVE_SUOU</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('debit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_subsidiary'))])</field>
                    </record>
                    <record id="report_cashflow_inve_otherout" model="account.report.line">
                        <field name="name">支付其他与投资活动有关的现金</field>
                        <field name="code">INVE_OTOU</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('credit', '&gt;', 0.0), ('account_id.tag_ids', '=', ref('cn_account.account_tag_investing_other'))])</field>
                    </record>
                    <record id="report_cashflow_inve_out" model="account.report.line">
                        <field name="name">　投资活动现金流出小计</field>
                        <field name="code">INVE_OUT</field>
                        <field name="expression_ids">
                            <record id="report_cashflow_inve_out_balance" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">aggregation</field>
                                <field name="formula">INVE_ASOU.balance + INVE_INOU.balance + INVE_SUOU.balance + INVE_OTOU.balance</field>
                                <field name="date_scope">normal</field>
                            </record>
                        </field>
                    </record>
                    <record id="report_cashflow_inve_net" model="account.report.line">
                        <field name="name">　　投资活动产生的现金流量净额</field>
                        <field name="code">INVE_NET</field>
                        <field name="expression_ids">
                            <record id="report_cashflow_inve_net_balance" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">aggregation</field>
                                <field name="formula">INVE_IN.balance - INVE_OUT.balance</field>
                                <field name="date_scope">normal</field>
                            </record>
                        </field>
                    </record>
                </field>
            </record>
        </field>
    </record>
</odoo>
